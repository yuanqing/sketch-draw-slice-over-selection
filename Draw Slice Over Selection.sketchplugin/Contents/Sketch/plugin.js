!function(e,t){for(var n in t)e[n]=t[n]}(this,function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"CHECK_BOX",function(){return c}),n.d(i,"DROP_DOWN",function(){return a}),n.d(i,"RADIO_BUTTONS",function(){return l}),n.d(i,"NUMERIC_TEXT_BOX",function(){return f.a}),n.d(i,"STRING_TEXT_BOX",function(){return h}),n.d(i,"TEXT_BOX",function(){});const r="sketch-plugin-helper";function o(){return JSON.parse('{"private": true,"version": "0.6.0","devDependencies": {"sketch-plugin-helper": "*"},"scripts": {"build": "sph build","fix": "sph lint --fix","lint": "sph lint","symlink": "sph symlink","test": "sph test","unlink": "sph symlink --delete","version": "sph version","watch": "sph build --watch"},"sketch-plugin-helper": {"pluginName": "Draw Slice Over Selection","pluginDescription": "A Sketch plugin to draw a slice over the selection","authorName": "Lim Yuan Qing","githubUserName": "yuanqing","githubRepositoryName": "sketch-draw-slice-over-selection","menu": [{"handler": "draw-slice-over-selection/draw-slice-over-selection","label": "Draw Slice Over Selection"},"-",{"Settings": [{"handler": "settings/settings","label": "Settings"},"-",{"handler": "settings/reset-settings","label": "Reset Settings"}]}],"defaultSettings": {"backgroundColor": "#f9f9f9","padding": 100}}\n}\n')}var s=n(1);function u(){const{defaultSettings:e}=o()[r];return void 0===e?{}:Object.keys(e).reduce(function(t,n){const i=Object(s.sessionVariable)(n),r=Object(s.settingForKey)(n),o=void 0!==i?i:r,u=e[n];return t[n]=void 0!==o?o:u,t},{})}function c({width:e,height:t,label:n,value:i}){const r=NSButton.alloc().initWithFrame(NSMakeRect(0,0,e,t));return r.setButtonType(NSSwitchButton),r.setBezelStyle(0),r.setState(i?NSOnState:NSOffState),r.setTitle(n),{view:r,retrieveValue:function(){return"1"===r.stringValue()}}}function a({width:e,height:t,value:n,possibleValues:i}){const r=NSPopUpButton.alloc().initWithFrame(NSMakeRect(0,0,e,t));i.forEach(function(e){r.addItemWithTitle(e)});const o=void 0!==n?i.indexOf(n):0;return r.selectItemAtIndex(o),{view:r,retrieveValue:function(){const e=r.indexOfSelectedItem();return i[e]}}}function l({width:e,height:t,value:n,possibleValues:i}){const r=NSButtonCell.alloc().init();r.setButtonType(NSRadioButton);const o=i.length,s=NSMatrix.alloc().initWithFrame_mode_prototype_numberOfRows_numberOfColumns(NSMakeRect(0,0,e,t),NSRadioModeMatrix,r,1,o);s.setCellSize(CGSizeMake(Math.floor(e/o),t)),s.cells().forEach(function(e,t){e.setTitle(i[t])});const u=void 0!==n?i.indexOf(n):0;return s.selectCellAtRow_column(0,u),{view:s,retrieveValue:function(){const e=s.cells().indexOfObject(s.selectedCell());return i[e]}}}var f=n(3),d=n(2);const h=Object(d.a)(),p=20,g=12,b=20,v=6,_=300;function S({title:e,inputs:t}){const n=u(),{inputs:r,views:o,stackViewHeight:s}=function({inputsConfig:e,settings:t}){const n={},r=[];let o=0;return e.forEach(function({type:e,key:s,label:u,value:c,...a}){if(u&&"CHECK_BOX"!==e){const e=function({label:e,width:t,height:n}){const i=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,t,n));return i.setBezeled(!1),i.setDrawsBackground(!1),i.setEditable(!1),i.setLineBreakMode(NSLineBreakByTruncatingTail),i.setSelectable(!1),i.setStringValue(e),i}({label:u,width:_,height:b});r.push({view:e,paddingBottom:v}),o+=b+v}const l=t[s],f=void 0!==l?l:c,{view:d,retrieveValue:h}=i[e]({label:u,value:f,width:_,height:p,...a});r.push({view:d,paddingBottom:g}),o+=p+g,n[s]=h}),{inputs:n,views:r,stackViewHeight:o-=g}}({inputsConfig:t,settings:n}),c=function({width:e,height:t,views:n}){const i=NSStackView.alloc().initWithFrame(NSMakeRect(0,0,e,t));return i.setAlignment(NSLayoutAttributeLeft),i.setOrientation(NSUserInterfaceLayoutOrientationVertical),i.setSpacing(0),i.setTranslatesAutoresizingMaskIntoConstraints(!0),i.updateConstraintsForSubtreeIfNeeded(),n.forEach(function({view:e,paddingBottom:t}){i.addView_inGravity_(e,NSStackViewGravityTop),i.setCustomSpacing_afterView_(t,e)}),i}({width:_,height:s,views:o}),a=function(e){const t=NSAlert.alloc().init();return t.window().setAutorecalculatesKeyViewLoop(!0),t.setMessageText(e),t.addButtonWithTitle("OK"),t.addButtonWithTitle("Cancel"),t}(e);return a.setAccessoryView(c),"1000"==a.runModal()?Object.keys(r).reduce(function(e,t){const n=r[t];return e[t]=n(),e},{}):null}var y=n(4),m=n.n(y);function O(e,t){m.a.message(t&&t.symbol?`${t.symbol} ${e}`:e)}function w(e){O(e,{symbol:"✔"})}function x(e){O(e,{symbol:"✘"})}function k(){const{defaultSettings:e}=o()[r];void 0!==e&&(Object.keys(e).forEach(function(e){Object(s.setSettingForKey)(e,void 0),Object(s.setSessionVariable)(e,void 0)}),O("Reset settings"))}const N=M(s.setSettingForKey);M(s.setSessionVariable);function M(e){return function(t,n){if(void 0===t)return;Object.keys(t).forEach(function(n){const i=t[n];void 0!==i&&e(n,i)});const i=void 0!==n&&n.successMessage;i&&O(i)}}n(5),n(6);n(7);var B=n(8);function T(){const e=NSApplication.sharedApplication().orderedDocuments();return Object(B.fromNative)(e[0])}function j(e){return T().selectedPage.sketchObject.addLayers(e)}function C(){return T().selectedPage.layers}function E(){return T().selectedLayers.layers.reverse()}function V(e){return function e(t,n){const i=t.parent;if("Page"===i.type)return n;const r={x:n.x+i.frame.x,y:n.y+i.frame.y};if("Artboard"===i.type)return r;return e(i,r)}(e,{x:e.frame.x,y:e.frame.y})}n.d(t,"g",function(){return u}),n.d(t,"h",function(){return S}),n.d(t,"i",function(){return k}),n.d(t,"j",function(){return N}),n.d(t,"a",function(){return"NUMERIC_TEXT_BOX"}),n.d(t,"b",function(){return"STRING_TEXT_BOX"}),n.d(t,"c",function(){return j}),n.d(t,"d",function(){return V}),n.d(t,"e",function(){return C}),n.d(t,"f",function(){return E}),n.d(t,"l",function(){return w}),n.d(t,"k",function(){return x})},function(e,t){e.exports=require("sketch/settings")},function(e,t,n){"use strict";function i(e){return function({width:t,height:n,value:i,placeholder:r}){const o=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,t,n)),s=null==i?"":`${i}`;return o.setStringValue(s),r&&o.setPlaceholderString(r),{view:o,retrieveValue:function(){const t=`${o.stringValue()}`;return e?e(t):t}}}}n.d(t,"a",function(){return i})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return numericTextBox});var _text_box__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);const numericTextBox=Object(_text_box__WEBPACK_IMPORTED_MODULE_0__.a)(function(value){return parseFloat(eval(value))})},function(e,t){e.exports=require("sketch/ui")},function(e,t){e.exports=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}},function(e,t,n){"use strict";const i=async(e,t)=>{let n=0;for(const i of e)await t(await i,n++);return e};e.exports=i,e.exports.default=i},function(e,t){e.exports=require("sketch/dom")},function(e,t){e.exports=require("sketch")},function(e,t,n){e.exports=n(10)},function(e,t,n){e.exports={"draw-slice-over-selection/draw-slice-over-selection":n(13).default,"settings/settings":n(11).default,"settings/reset-settings":n(12).default}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var i=n(0);const r={title:"Settings for Draw Slice Over Selection",inputs:[{type:i.b,key:"backgroundColor",label:"Background Color"},{type:i.a,key:"padding",label:"Padding"}]};function o(){const e=Object(i.h)(r);e&&Object(i.j)(e,{successMessage:"Settings saved"})}},function(e,t,n){"use strict";n.r(t);var i=n(0);t.default=i.i},function(e,t,n){"use strict";n.r(t);var i=n(0);const r="@SliceOverSelection";function o({maximumBounds:e,backgroundColor:t,padding:n}){const i=MSSliceLayer.new(),o=i.frame();if(o.setX(e[0].x-n),o.setY(e[0].y-n),o.setWidth(e[1].x-e[0].x+2*n),o.setHeight(e[1].y-e[0].y+2*n),""!==t&&"#"===t.charAt(0)){i.hasBackgroundColor=!0;const e=(s=t,{r:parseInt(s.substr(1,2),16),g:parseInt(s.substr(3,2),16),b:parseInt(s.substr(5,2),16)});i.setBackgroundColor(MSColor.colorWithRed_green_blue_alpha(e.r/255,e.g/255,e.b/255,1))}var s;return i.setName(r),i.setIsLocked(!0),i}function s({settings:e}){e=e||Object(i.g)();const t=Object(i.f)(),n=t.length>0,r=n?t:Object(i.e)();if(0===r.length)return void Object(i.k)("No layers");const s=function(e){let t=[{x:Number.MAX_VALUE,y:Number.MAX_VALUE},{x:-1*Number.MAX_VALUE,y:-1*Number.MAX_VALUE}];return e.forEach(function(e){const{width:n,height:r}=e.frame,{x:o,y:s}=Object(i.d)(e);t=[{x:Math.min(t[0].x,o),y:Math.min(t[0].y,s)},{x:Math.max(t[1].x,o+n),y:Math.max(t[1].y,s+r)}]}),t}(r),{backgroundColor:u,padding:c}=e,a=o({maximumBounds:s,backgroundColor:u,padding:c});Object(i.c)([a]),Object(i.l)(n?"Drew slice over selection":"Drew slice over all layers")}n.d(t,"default",function(){return s})}]));