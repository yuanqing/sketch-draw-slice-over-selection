!function(e,t){for(var n in t)e[n]=t[n]}(this,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";var r=n(6);n.o(r,"TEXT_BOX")&&n.d(t,"TEXT_BOX",function(){return r.TEXT_BOX}),n.o(r,"addLayersToPage")&&n.d(t,"addLayersToPage",function(){return r.addLayersToPage}),n.o(r,"getAllLayers")&&n.d(t,"getAllLayers",function(){return r.getAllLayers}),n.o(r,"getSelectedLayers")&&n.d(t,"getSelectedLayers",function(){return r.getSelectedLayers}),n.o(r,"openUserInputDialog")&&n.d(t,"openUserInputDialog",function(){return r.openUserInputDialog}),n.o(r,"saveUserInput")&&n.d(t,"saveUserInput",function(){return r.saveUserInput}),n.o(r,"showErrorMessage")&&n.d(t,"showErrorMessage",function(){return r.showErrorMessage}),n.o(r,"showSuccessMessage")&&n.d(t,"showSuccessMessage",function(){return r.showSuccessMessage});n(2);var i=n(7);n.d(t,"openUserInputDialog",function(){return i.a});var o=n(8);n.d(t,"saveUserInput",function(){return o.a});var s=n(9);n.d(t,"addLayersToPage",function(){return s.a});n(10);var u=n(11);n.d(t,"getAllLayers",function(){return u.a}),n.d(t,"getSelectedLayers",function(){return u.b});n(12);var c=n(3);n.d(t,"showErrorMessage",function(){return c.a}),n.d(t,"showSuccessMessage",function(){return c.c})},function(e,t){e.exports=require("sketch/dom")},function(e,t,n){"use strict";n.d(t,"a",function(){return s});const r=n(4),{packageJsonConfigKey:i}=n(15),o=n(16);function s(){const{defaults:e}=o()[i];return Object.keys(e).reduce(function(t,n){const i=r.settingForKey(n);return t[n]=void 0!==i?i:e[n],t},{})}},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return u});var r=n(13),i=n.n(r);function o(e,t){i.a.message(t&&t.symbol?`${t.symbol} ${e}`:e)}function s(e){o(e,{symbol:"âœ…"})}function u(e){o(e,{symbol:"ðŸ”´"})}},function(e,t){e.exports=require("sketch/settings")},function(e,t,n){"use strict";function r({width:e,height:t,label:n,value:r}){const i=NSButton.alloc().initWithFrame(NSMakeRect(0,0,e,t));return i.setButtonType(NSSwitchButton),i.setBezelStyle(0),i.setState(r?NSOnState:NSOffState),i.setTitle(n),{view:i,retrieveValue:function(){return"1"==i.stringValue()}}}function i({width:e,height:t,value:n,possibleValues:r}){const i=NSPopUpButton.alloc().initWithFrame(NSMakeRect(0,0,e,t));r.forEach(function(e){i.addItemWithTitle(e)});const o=r.indexOf(n);return i.selectItemAtIndex(o),{view:i,retrieveValue:function(){const e=i.indexOfSelectedItem();return r[e]}}}function o({width:e,height:t,value:n,possibleValues:r}){const i=NSButtonCell.alloc().init();i.setButtonType(NSRadioButton);const o=r.length,s=NSMatrix.alloc().initWithFrame_mode_prototype_numberOfRows_numberOfColumns(NSMakeRect(0,0,e,t),NSRadioModeMatrix,i,1,o);s.setCellSize(CGSizeMake(Math.floor(e/o),t)),s.cells().forEach(function(e,t){e.setTitle(r[t])});const u=r.indexOf(n);return s.selectCellAtRow_column(0,u),{view:s,retrieveValue:function(){const e=s.cells().indexOfObject(s.selectedCell());return r[e]}}}function s({width:e,height:t,value:n,placeholder:r}){const i=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,e,t));return i.setStringValue(n),r&&i.setPlaceholderString(r),{view:i,retrieveValue:function(){return i.stringValue()}}}n.r(t),n.d(t,"CHECK_BOX",function(){return r}),n.d(t,"DROP_DOWN",function(){return i}),n.d(t,"RADIO_BUTTONS",function(){return o}),n.d(t,"TEXT_BOX",function(){return s})},function(e,t,n){const r=n(5),i=Object.keys(r).reduce(function(e,t){return e[t]=t,e},{});e.exports=i},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(2),i=n(5);const o=n(17),s=n(18),u=n(19),{formHeight:c,formPaddingBottom:a,labelHeight:l,labelPaddingBottom:d,width:f}=n(20);function g({title:e,inputs:t}){const n=Object(r.a)(),{inputs:g,views:h,stackViewHeight:p}=function({inputsConfig:e,savedUserInput:t}){const n={},r=[];let o=0;return e.forEach(function({type:e,key:u,label:g,...h}){if(g&&"CHECK_BOX"!=e){const e=s({label:g,width:f,height:l});r.push({view:e,paddingBottom:d}),o+=l+d}const p=t[u],{view:b,retrieveValue:y}=i[e]({label:g,value:p,width:f,height:c,...h});r.push({view:b,paddingBottom:a}),o+=c+a,n[u]=y}),{inputs:n,views:r,stackViewHeight:o-=a}}({inputsConfig:t,savedUserInput:n}),b=u({width:f,height:p,views:h}),y=o(e);return y.setAccessoryView(b),"1000"==y.runModal()?Object.keys(g).reduce(function(e,t){const n=g[t];return e[t]=n(),e},{}):null}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(4),i=n(3);function o(e,t){void 0!==e&&(Object.keys(e).forEach(function(t){const n=e[t];void 0!==n&&Object(r.setSettingForKey)(t,n)}),t&&t.successMessage&&Object(i.b)(t.successMessage))}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1);function i(e){return Object(r.getSelectedDocument)().selectedPage.sketchObject.addLayers(e)}},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(1);function i(){return Object(r.getSelectedDocument)().selectedPage.layers}function o(){return Object(r.getSelectedDocument)().selectedLayers.layers}},function(e,t,n){"use strict"},function(e,t){e.exports=require("sketch/ui")},function(e,t,n){e.exports={"draw-slice-over-selection":n(21).default}},function(e,t){e.exports={appcastFileName:"appcast.xml",bundleFileName:"plugin.js",manifestFileName:"manifest.json",packageJsonConfigKey:"sketch-plugin-helper",sourceDirectory:"./src"}},function(e,t){e.exports=function(){return JSON.parse('{\n  "private": true,\n  "version": "0.5.0",\n  "devDependencies": {\n    "sketch-plugin-helper": "*"\n  },\n  "scripts": {\n    "build": "sph build",\n    "fix": "sph lint --fix",\n    "lint": "sph lint",\n    "symlink": "sph symlink",\n    "unlink": "sph symlink --delete",\n    "version": "sph version",\n    "watch": "sph build --watch"\n  },\n  "sketch-plugin-helper": {\n    "pluginName": "Draw Slice Over Selection",\n    "pluginDescription": "A Sketch plugin to draw a slice over the selection",\n    "authorName": "Lim Yuan Qing",\n    "githubUserName": "yuanqing",\n    "githubRepositoryName": "sketch-draw-slice-over-selection",\n    "menu": [\n      {\n        "handler": "draw-slice-over-selection",\n        "label": "Draw Slice Over Selection",\n        "shortcut": "ctrl option cmd l"\n      }\n    ],\n    "defaults": {\n      "backgroundColor": "#f9f9f9",\n      "padding": "100"\n    }\n  }\n}\n')}},function(e,t){e.exports=function(e){const t=NSAlert.alloc().init();return t.window().setAutorecalculatesKeyViewLoop(!0),t.setMessageText(e),t.addButtonWithTitle("OK"),t.addButtonWithTitle("Cancel"),t}},function(e,t){e.exports=function({label:e,width:t,height:n}){const r=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,t,n));return r.setBezeled(!1),r.setDrawsBackground(!1),r.setEditable(!1),r.setLineBreakMode(NSLineBreakByTruncatingTail),r.setSelectable(!1),r.setStringValue(e),r}},function(e,t){e.exports=function({width:e,height:t,views:n}){const r=NSStackView.alloc().initWithFrame(NSMakeRect(0,0,e,t));return r.setAlignment(NSLayoutAttributeLeft),r.setOrientation(NSUserInterfaceLayoutOrientationVertical),r.setSpacing(0),r.setTranslatesAutoresizingMaskIntoConstraints(!0),r.updateConstraintsForSubtreeIfNeeded(),n.forEach(function({view:e,paddingBottom:t}){r.addView_inGravity_(e,NSStackViewGravityTop),r.setCustomSpacing_afterView_(t,e)}),r}},function(e,t){e.exports={formHeight:20,formPaddingBottom:12,labelHeight:20,labelPaddingBottom:6,width:300}},function(e,t,n){"use strict";n.r(t);var r=n(0);const i="@SliceOverSelection";function o(e,t,n){const r=MSSliceLayer.new(),o=r.frame();if(o.setX(n[0].x-t),o.setY(n[0].y-t),o.setWidth(n[1].x-n[0].x+2*t),o.setHeight(n[1].y-n[0].y+2*t),""!=e&&"#"==e.charAt(0)){r.hasBackgroundColor=!0;const t=(s=e,{r:parseInt(s.substr(1,2),16),g:parseInt(s.substr(3,2),16),b:parseInt(s.substr(5,2),16)});r.setBackgroundColor(MSColor.colorWithRed_green_blue_alpha(t.r/255,t.g/255,t.b/255,1))}var s;return r.setName(i),r.setIsLocked(!0),r}n.d(t,"default",function(){return u});const s={title:"Draw Slice Over Selection",inputs:[{key:"backgroundColor",label:"Background Color",type:r.TEXT_BOX},{key:"padding",label:"Padding",type:r.TEXT_BOX}]};function u(){const e=Object(r.openUserInputDialog)(s);e&&Object(r.saveUserInput)(e);const t=Object(r.getSelectedLayers)(),n=t.length>0,i=n?t:Object(r.getAllLayers)();if(0==i.length)return void Object(r.showErrorMessage)("No layers");const u=function(e){let t=[{x:Number.MAX_VALUE,y:Number.MAX_VALUE},{x:-1*Number.MAX_VALUE,y:-1*Number.MAX_VALUE}];return e.forEach(function(e){const{x:n,y:r,width:i,height:o}=e.frame;t=[{x:Math.min(t[0].x,n),y:Math.min(t[0].y,r)},{x:Math.max(t[1].x,n+i),y:Math.max(t[1].y,r+o)}]}),t}(i),{backgroundColor:c,padding:a}=e,l=o(c,a,u);Object(r.addLayersToPage)([l]),Object(r.showSuccessMessage)(n?"Drew slice over selection":"Drew slice over all layers")}}]));