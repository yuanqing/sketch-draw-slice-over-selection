!function(e,t){for(var n in t)e[n]=t[n]}(this,function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports={CHECK_BOX:n(11),DROP_DOWN:n(12),RADIO_BUTTONS:n(13),TEXT_BOX:n(14)}},function(e,t,n){const o=n(2),{packageJsonConfigKey:i}=n(15),r=n(16);e.exports=function(){const{defaults:e}=r()[i];return Object.keys(e).reduce(function(t,n){const i=o.settingForKey(n);return t[n]=void 0!==i?i:e[n],t},{})}},function(e,t){e.exports=require("sketch/settings")},function(e,t,n){const o=n(19),i=n(20);function r(){return o.getSelectedDocument().selectedPage.layers}function s(){return o.getSelectedDocument().selectedLayers.layers}function c(e,t){i.message(t&&t.symbol?`${t.symbol} ${e}`:e)}e.exports={addLayersToPage:function(e){return o.getSelectedDocument().selectedPage.sketchObject.addLayers(e)},getAllArtboards:function(){return r().filter(function(e){return"Artboard"==e.type})},getAllLayers:r,getSelectedLayers:s,getSelectedOrAllLayers:function(){const e=s();return 0!=e.length?e:r()},iterateNestedLayers:function e(t,n){t.forEach(function(t){n(t);const o=t.type;"Artboard"!=o&&"Group"!=o||e(t.layers,n)})},showErrorMessage:function(e){c(e,{symbol:"ðŸ”´"})},showMessage:c,showSuccessMessage:function(e){c(e,{symbol:"âœ…"})},showWarningMessage:function(e){c(e,{symbol:"âš ï¸"})}}},function(e,t,n){e.exports={"draw-slice-over-selection":n(5)}},function(e,t,n){const{addLayersToPage:o,getAllLayers:i,getSelectedLayers:r,openUserInputDialog:s,saveUserInput:c,showErrorMessage:a,showSuccessMessage:u,TEXT_BOX:l}=n(6),d=n(22),f=n(23),p={title:"Draw Slice Over Selection",inputs:[{key:"backgroundColor",label:"Background Color",type:l},{key:"padding",label:"Padding",type:l}]};e.exports=function(){const e=s(p);e&&c(e);const t=r(),n=t.length>0,l=n?t:i();if(0==l.length)return void a("No layers");const h=d(l),{backgroundColor:g,padding:y}=e,m=f(g,y,h);o([m]),u(n?"Drew slice over selection":"Drew slice over all layers")}},function(e,t,n){e.exports={openUserInputDialog:n(7),getSavedUserInput:n(1),saveUserInput:n(18),...n(21),...n(3)}},function(e,t,n){const o=n(8),i=n(9),r=n(10),s=n(0),c=n(1),{formHeight:a,formPaddingBottom:u,labelHeight:l,labelPaddingBottom:d,width:f}=n(17);e.exports=function({title:e,inputs:t}){const n=c(),{inputs:p,views:h,stackViewHeight:g}=function({inputsConfig:e,savedUserInput:t}){const n={},o=[];let r=0;return e.forEach(function({type:e,key:c,label:p,...h}){if(p&&"CHECK_BOX"!=e){const e=i({label:p,width:f,height:l});o.push({view:e,paddingBottom:d}),r+=l+d}const g=t[c],{view:y,retrieveValue:m}=s[e]({label:p,value:g,width:f,height:a,...h});o.push({view:y,paddingBottom:u}),r+=a+u,n[c]=m}),{inputs:n,views:o,stackViewHeight:r-=u}}({inputsConfig:t,savedUserInput:n}),y=r({width:f,height:g,views:h}),m=o(e);return m.setAccessoryView(y),"1000"==m.runModal()?Object.keys(p).reduce(function(e,t){const n=p[t];return e[t]=n(),e},{}):null}},function(e,t){e.exports=function(e){const t=NSAlert.alloc().init();return t.window().setAutorecalculatesKeyViewLoop(!0),t.setMessageText(e),t.addButtonWithTitle("OK"),t.addButtonWithTitle("Cancel"),t}},function(e,t){e.exports=function({label:e,width:t,height:n}){const o=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,t,n));return o.setBezeled(!1),o.setDrawsBackground(!1),o.setEditable(!1),o.setLineBreakMode(NSLineBreakByTruncatingTail),o.setSelectable(!1),o.setStringValue(e),o}},function(e,t){e.exports=function({width:e,height:t,views:n}){const o=NSStackView.alloc().initWithFrame(NSMakeRect(0,0,e,t));return o.setAlignment(NSLayoutAttributeLeft),o.setOrientation(NSUserInterfaceLayoutOrientationVertical),o.setSpacing(0),o.setTranslatesAutoresizingMaskIntoConstraints(!0),o.updateConstraintsForSubtreeIfNeeded(),n.forEach(function({view:e,paddingBottom:t}){o.addView_inGravity_(e,NSStackViewGravityTop),o.setCustomSpacing_afterView_(t,e)}),o}},function(e,t){e.exports=function({width:e,height:t,label:n,value:o}){const i=NSButton.alloc().initWithFrame(NSMakeRect(0,0,e,t));return i.setButtonType(NSSwitchButton),i.setBezelStyle(0),i.setState("true"==o?NSOnState:NSOffState),i.setTitle(n),{view:i,retrieveValue:function(){return"1"==i.stringValue()?"true":"false"}}}},function(e,t){e.exports=function({width:e,height:t,value:n,possibleValues:o}){const i=NSPopUpButton.alloc().initWithFrame(NSMakeRect(0,0,e,t));o.forEach(function(e){i.addItemWithTitle(e)});const r=o.indexOf(n);return i.selectItemAtIndex(r),{view:i,retrieveValue:function(){const e=i.indexOfSelectedItem();return o[e]}}}},function(e,t){e.exports=function({width:e,height:t,value:n,possibleValues:o}){const i=NSButtonCell.alloc().init();i.setButtonType(NSRadioButton);const r=o.length,s=NSMatrix.alloc().initWithFrame_mode_prototype_numberOfRows_numberOfColumns(NSMakeRect(0,0,e,t),NSRadioModeMatrix,i,1,r);s.setCellSize(CGSizeMake(Math.floor(e/r),t)),s.cells().forEach(function(e,t){e.setTitle(o[t])});const c=o.indexOf(n);return s.selectCellAtRow_column(0,c),{view:s,retrieveValue:function(){const e=s.cells().indexOfObject(s.selectedCell());return o[e]}}}},function(e,t){e.exports=function({width:e,height:t,value:n,placeholder:o}){const i=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,e,t));return i.setStringValue(n),o&&i.setPlaceholderString(o),{view:i,retrieveValue:function(){return i.stringValue()}}}},function(e,t){e.exports={appcastFileName:"appcast.xml",bundleFileName:"plugin.js",manifestFileName:"manifest.json",packageJsonConfigKey:"sketch-plugin-helper",sourceDirectory:"./src"}},function(e,t){e.exports=function(){return JSON.parse('{\n  "private": true,\n  "version": "0.4.4",\n  "devDependencies": {\n    "sketch-plugin-helper": "*"\n  },\n  "scripts": {\n    "build": "sph build",\n    "fix": "sph lint --fix",\n    "lint": "sph lint",\n    "symlink": "sph symlink",\n    "unlink": "sph symlink --delete",\n    "version": "sph version",\n    "watch": "sph build --watch"\n  },\n  "sketch-plugin-helper": {\n    "pluginName": "Draw Slice Over Selection",\n    "pluginDescription": "A Sketch plugin to draw a slice over the selection",\n    "authorName": "Lim Yuan Qing",\n    "githubUserName": "yuanqing",\n    "githubRepositoryName": "sketch-draw-slice-over-selection",\n    "menu": [\n      {\n        "handler": "draw-slice-over-selection",\n        "label": "Draw Slice Over Selection",\n        "shortcut": "ctrl option cmd l"\n      }\n    ],\n    "defaults": {\n      "backgroundColor": "#f9f9f9",\n      "padding": "100"\n    }\n  }\n}\n')}},function(e,t){e.exports={formHeight:20,formPaddingBottom:12,labelHeight:20,labelPaddingBottom:6,width:300}},function(e,t,n){const o=n(2),{showMessage:i}=n(3);e.exports=function(e,t){void 0!==e&&(Object.keys(e).forEach(function(t){const n=e[t];void 0!==n&&o.setSettingForKey(t,n)}),t&&t.successMessage&&i(t.successMessage))}},function(e,t){e.exports=require("sketch/dom")},function(e,t){e.exports=require("sketch/ui")},function(e,t,n){const o=n(0),i=Object.keys(o).reduce(function(e,t){return e[t]=t,e},{});e.exports=i},function(e,t){e.exports=function(e){let t=[{x:Number.MAX_VALUE,y:Number.MAX_VALUE},{x:-1*Number.MAX_VALUE,y:-1*Number.MAX_VALUE}];return e.forEach(function(e){const{x:n,y:o,width:i,height:r}=e.frame;t=[{x:Math.min(t[0].x,n),y:Math.min(t[0].y,o)},{x:Math.max(t[1].x,n+i),y:Math.max(t[1].y,o+r)}]}),t}},function(e,t){const n="@SliceOverSelection";e.exports=function(e,t,o){const i=MSSliceLayer.new(),r=i.frame();if(r.setX(o[0].x-t),r.setY(o[0].y-t),r.setWidth(o[1].x-o[0].x+2*t),r.setHeight(o[1].y-o[0].y+2*t),""!=e&&"#"==e.charAt(0)){i.hasBackgroundColor=!0;const t=(s=e,{r:parseInt(s.substr(1,2),16),g:parseInt(s.substr(3,2),16),b:parseInt(s.substr(5,2),16)});i.setBackgroundColor(MSColor.colorWithRed_green_blue_alpha(t.r/255,t.g/255,t.b/255,1))}var s;return i.setName(n),i.setIsLocked(!0),i}}]));